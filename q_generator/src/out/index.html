<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Survey</title>
<style>
body{font-family: system-ui, -apple-system, Roboto, 'Segoe UI', Arial; padding:20px; max-width:900px; margin:auto;}
.page{display:none;}
.page.active{display:block;}
.controls{display:flex;justify-content:space-between;margin-top:18px;}
.question{margin:12px 0;padding:10px;border-radius:8px;background:#f8f8f8;}
fieldset.question{border:1px solid #ddd;padding:10px;border-radius:6px;}
.text-block{margin:8px 0;}
.page-indicator{text-align:center;margin-top:12px;color:#666}
button:disabled{opacity:.5;cursor:not-allowed}
</style>
</head><body>
<h1>Survey</h1>
<div id="pages">
<section class="page" data-index="0">
<h2>SHORT SCALE EPQ-R (EYSENCK PERSONALITY QUESTIONNAIRE REVISED)</h2>
<div class="text-block">The following questions refer to habits, behaviors, and character traits that a person can
    have. There are no right or wrong answers. What matters is that he answers ALL the questions
    honestly, actually thinking about his usual way of being and behaving. Please read one
    question carefully at a time and answer with either Yes or No.</div>
<fieldset class="question" data-q="p0_q0"><legend>Do I have frequent mood swings?</legend><div><input type="radio" id="p0_q0_opt0" name="p0_q0" data-sqe-value="1"> <label for="p0_q0_opt0">Yes</label></div><div><input type="radio" id="p0_q0_opt1" name="p0_q0" data-sqe-value="0"> <label for="p0_q0_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q1"><legend>Do I attach great importance to people\&#x27;s opinion?</legend><div><input type="radio" id="p0_q1_opt0" name="p0_q1" data-sqe-value="1"> <label for="p0_q1_opt0">Yes</label></div><div><input type="radio" id="p0_q1_opt1" name="p0_q1" data-sqe-value="0"> <label for="p0_q1_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q2"><legend>Am I a person who speaks willingly?</legend><div><input type="radio" id="p0_q2_opt0" name="p0_q2" data-sqe-value="1"> <label for="p0_q2_opt0">Yes</label></div><div><input type="radio" id="p0_q2_opt1" name="p0_q2" data-sqe-value="0"> <label for="p0_q2_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q3"><legend>If I say that I will do one thing, then I always keep my promise, however heavy?</legend><div><input type="radio" id="p0_q3_opt0" name="p0_q3" data-sqe-value="1"> <label for="p0_q3_opt0">Yes</label></div><div><input type="radio" id="p0_q3_opt1" name="p0_q3" data-sqe-value="0"> <label for="p0_q3_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q4"><legend>Do I ever feel depressed for no reason?</legend><div><input type="radio" id="p0_q4_opt0" name="p0_q4" data-sqe-value="1"> <label for="p0_q4_opt0">Yes</label></div><div><input type="radio" id="p0_q4_opt1" name="p0_q4" data-sqe-value="0"> <label for="p0_q4_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q5"><legend>Would I worry about having a debt?</legend><div><input type="radio" id="p0_q5_opt0" name="p0_q5" data-sqe-value="1"> <label for="p0_q5_opt0">Yes</label></div><div><input type="radio" id="p0_q5_opt1" name="p0_q5" data-sqe-value="0"> <label for="p0_q5_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q6"><legend>Am I rather cheerful in character?</legend><div><input type="radio" id="p0_q6_opt0" name="p0_q6" data-sqe-value="1"> <label for="p0_q6_opt0">Yes</label></div><div><input type="radio" id="p0_q6_opt1" name="p0_q6" data-sqe-value="0"> <label for="p0_q6_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q7"><legend>Have I ever been greedy, taking more than I expected?</legend><div><input type="radio" id="p0_q7_opt0" name="p0_q7" data-sqe-value="1"> <label for="p0_q7_opt0">Yes</label></div><div><input type="radio" id="p0_q7_opt1" name="p0_q7" data-sqe-value="0"> <label for="p0_q7_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q8"><legend>Do I get irritated easily?</legend><div><input type="radio" id="p0_q8_opt0" name="p0_q8" data-sqe-value="1"> <label for="p0_q8_opt0">Yes</label></div><div><input type="radio" id="p0_q8_opt1" name="p0_q8" data-sqe-value="0"> <label for="p0_q8_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q9"><legend>Would I take a drug, even though I know it can have strange or harmful effects?</legend><div><input type="radio" id="p0_q9_opt0" name="p0_q9" data-sqe-value="1"> <label for="p0_q9_opt0">Yes</label></div><div><input type="radio" id="p0_q9_opt1" name="p0_q9" data-sqe-value="0"> <label for="p0_q9_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q10"><legend>Do I like meeting new people?</legend><div><input type="radio" id="p0_q10_opt0" name="p0_q10" data-sqe-value="1"> <label for="p0_q10_opt0">Yes</label></div><div><input type="radio" id="p0_q10_opt1" name="p0_q10" data-sqe-value="0"> <label for="p0_q10_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q11"><legend>Have I ever scolded someone for a problem that was actually mine?</legend><div><input type="radio" id="p0_q11_opt0" name="p0_q11" data-sqe-value="1"> <label for="p0_q11_opt0">Yes</label></div><div><input type="radio" id="p0_q11_opt1" name="p0_q11" data-sqe-value="0"> <label for="p0_q11_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q12"><legend>Does it take little to hurt my sensitivity?</legend><div><input type="radio" id="p0_q12_opt0" name="p0_q12" data-sqe-value="1"> <label for="p0_q12_opt0">Yes</label></div><div><input type="radio" id="p0_q12_opt1" name="p0_q12" data-sqe-value="0"> <label for="p0_q12_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q13"><legend>Do I prefer to go it alone rather than follow the rules?</legend><div><input type="radio" id="p0_q13_opt0" name="p0_q13" data-sqe-value="1"> <label for="p0_q13_opt0">Yes</label></div><div><input type="radio" id="p0_q13_opt1" name="p0_q13" data-sqe-value="0"> <label for="p0_q13_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q14"><legend>While attending an animated party, I usually manage to let go, feel comfortable and have fun?</legend><div><input type="radio" id="p0_q14_opt0" name="p0_q14" data-sqe-value="1"> <label for="p0_q14_opt0">Yes</label></div><div><input type="radio" id="p0_q14_opt1" name="p0_q14" data-sqe-value="0"> <label for="p0_q14_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p0_q15"><legend>Are all my habits good and acceptable?</legend><div><input type="radio" id="p0_q15_opt0" name="p0_q15" data-sqe-value="1"> <label for="p0_q15_opt0">Yes</label></div><div><input type="radio" id="p0_q15_opt1" name="p0_q15" data-sqe-value="0"> <label for="p0_q15_opt1">No</label></div></fieldset>
</section>
<section class="page" data-index="1">
<h2>Page 2</h2>
<fieldset class="question" data-q="p1_q0"><legend>Do I often get the feeling that &quot;I just can&#x27;t take it anymore&quot;?</legend><div><input type="radio" id="p1_q0_opt0" name="p1_q0" data-sqe-value="1"> <label for="p1_q0_opt0">Yes</label></div><div><input type="radio" id="p1_q0_opt1" name="p1_q0" data-sqe-value="0"> <label for="p1_q0_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q1"><legend>Do I value good manners and cleanliness?</legend><div><input type="radio" id="p1_q1_opt0" name="p1_q1" data-sqe-value="1"> <label for="p1_q1_opt0">Yes</label></div><div><input type="radio" id="p1_q1_opt1" name="p1_q1" data-sqe-value="0"> <label for="p1_q1_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q2"><legend>In general, am I the one who takes the lead when it comes to making friends with someone?</legend><div><input type="radio" id="p1_q2_opt0" name="p1_q2" data-sqe-value="1"> <label for="p1_q2_opt0">Yes</label></div><div><input type="radio" id="p1_q2_opt1" name="p1_q2" data-sqe-value="0"> <label for="p1_q2_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q3"><legend>Have I ever taken something, even a pin, that belonged to another?</legend><div><input type="radio" id="p1_q3_opt0" name="p1_q3" data-sqe-value="1"> <label for="p1_q3_opt0">Yes</label></div><div><input type="radio" id="p1_q3_opt1" name="p1_q3" data-sqe-value="0"> <label for="p1_q3_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q4"><legend>Do I consider myself a nervous person?</legend><div><input type="radio" id="p1_q4_opt0" name="p1_q4" data-sqe-value="1"> <label for="p1_q4_opt0">Yes</label></div><div><input type="radio" id="p1_q4_opt1" name="p1_q4" data-sqe-value="0"> <label for="p1_q4_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q5"><legend>Do I think marriage is an old-fashioned custom and should be eliminated?</legend><div><input type="radio" id="p1_q5_opt0" name="p1_q5" data-sqe-value="1"> <label for="p1_q5_opt0">Yes</label></div><div><input type="radio" id="p1_q5_opt1" name="p1_q5" data-sqe-value="0"> <label for="p1_q5_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q6"><legend>Would I be able to easily animate a boring party?</legend><div><input type="radio" id="p1_q6_opt0" name="p1_q6" data-sqe-value="1"> <label for="p1_q6_opt0">Yes</label></div><div><input type="radio" id="p1_q6_opt1" name="p1_q6" data-sqe-value="0"> <label for="p1_q6_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q7"><legend>Have I ever lost or damaged something that belonged to another person?</legend><div><input type="radio" id="p1_q7_opt0" name="p1_q7" data-sqe-value="1"> <label for="p1_q7_opt0">Yes</label></div><div><input type="radio" id="p1_q7_opt1" name="p1_q7" data-sqe-value="0"> <label for="p1_q7_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q8"><legend>Do I worry easily?</legend><div><input type="radio" id="p1_q8_opt0" name="p1_q8" data-sqe-value="1"> <label for="p1_q8_opt0">Yes</label></div><div><input type="radio" id="p1_q8_opt1" name="p1_q8" data-sqe-value="0"> <label for="p1_q8_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q9"><legend>Do I enjoy working with others?</legend><div><input type="radio" id="p1_q9_opt0" name="p1_q9" data-sqe-value="1"> <label for="p1_q9_opt0">Yes</label></div><div><input type="radio" id="p1_q9_opt1" name="p1_q9" data-sqe-value="0"> <label for="p1_q9_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q10"><legend>When I am with people, do I tend to stand aside?</legend><div><input type="radio" id="p1_q10_opt0" name="p1_q10" data-sqe-value="1"> <label for="p1_q10_opt0">Yes</label></div><div><input type="radio" id="p1_q10_opt1" name="p1_q10" data-sqe-value="0"> <label for="p1_q10_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q11"><legend>Do I worry if I know I made mistakes in my job?</legend><div><input type="radio" id="p1_q11_opt0" name="p1_q11" data-sqe-value="1"> <label for="p1_q11_opt0">Yes</label></div><div><input type="radio" id="p1_q11_opt1" name="p1_q11" data-sqe-value="0"> <label for="p1_q11_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q12"><legend>Have I ever said something bad or unpleasant about others?</legend><div><input type="radio" id="p1_q12_opt0" name="p1_q12" data-sqe-value="1"> <label for="p1_q12_opt0">Yes</label></div><div><input type="radio" id="p1_q12_opt1" name="p1_q12" data-sqe-value="0"> <label for="p1_q12_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q13"><legend>I consider myself a tense and nervous person?</legend><div><input type="radio" id="p1_q13_opt0" name="p1_q13" data-sqe-value="1"> <label for="p1_q13_opt0">Yes</label></div><div><input type="radio" id="p1_q13_opt1" name="p1_q13" data-sqe-value="0"> <label for="p1_q13_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q14"><legend>I think people spend too much time worrying about the future, making savings and insurance?</legend><div><input type="radio" id="p1_q14_opt0" name="p1_q14" data-sqe-value="1"> <label for="p1_q14_opt0">Yes</label></div><div><input type="radio" id="p1_q14_opt1" name="p1_q14" data-sqe-value="0"> <label for="p1_q14_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q15"><legend>Do I like being around people?</legend><div><input type="radio" id="p1_q15_opt0" name="p1_q15" data-sqe-value="1"> <label for="p1_q15_opt0">Yes</label></div><div><input type="radio" id="p1_q15_opt1" name="p1_q15" data-sqe-value="0"> <label for="p1_q15_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q16"><legend>As a child, did I happen to be cheeky with my parents?</legend><div><input type="radio" id="p1_q16_opt0" name="p1_q16" data-sqe-value="1"> <label for="p1_q16_opt0">Yes</label></div><div><input type="radio" id="p1_q16_opt1" name="p1_q16" data-sqe-value="0"> <label for="p1_q16_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q17"><legend>Do I worry too long after an embarrassing experience?</legend><div><input type="radio" id="p1_q17_opt0" name="p1_q17" data-sqe-value="1"> <label for="p1_q17_opt0">Yes</label></div><div><input type="radio" id="p1_q17_opt1" name="p1_q17" data-sqe-value="0"> <label for="p1_q17_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q18"><legend>Do I try not to be rude to others?</legend><div><input type="radio" id="p1_q18_opt0" name="p1_q18" data-sqe-value="1"> <label for="p1_q18_opt0">Yes</label></div><div><input type="radio" id="p1_q18_opt1" name="p1_q18" data-sqe-value="0"> <label for="p1_q18_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q19"><legend>Do I like having a lot of movement and animation around me?</legend><div><input type="radio" id="p1_q19_opt0" name="p1_q19" data-sqe-value="1"> <label for="p1_q19_opt0">Yes</label></div><div><input type="radio" id="p1_q19_opt1" name="p1_q19" data-sqe-value="0"> <label for="p1_q19_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p1_q20"><legend>Have I ever cheated to win in any game?</legend><div><input type="radio" id="p1_q20_opt0" name="p1_q20" data-sqe-value="1"> <label for="p1_q20_opt0">Yes</label></div><div><input type="radio" id="p1_q20_opt1" name="p1_q20" data-sqe-value="0"> <label for="p1_q20_opt1">No</label></div></fieldset>
</section>
<section class="page" data-index="2">
<h2>Page 3</h2>
<fieldset class="question" data-q="p2_q0"><legend>Do I suffer from nervousness?</legend><div><input type="radio" id="p2_q0_opt0" name="p2_q0" data-sqe-value="1"> <label for="p2_q0_opt0">Yes</label></div><div><input type="radio" id="p2_q0_opt1" name="p2_q0" data-sqe-value="0"> <label for="p2_q0_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p2_q1"><legend>I wish others were afraid of me?</legend><div><input type="radio" id="p2_q1_opt0" name="p2_q1" data-sqe-value="1"> <label for="p2_q1_opt0">Yes</label></div><div><input type="radio" id="p2_q1_opt1" name="p2_q1" data-sqe-value="0"> <label for="p2_q1_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p2_q2"><legend>Have I ever taken advantage of someone?</legend><div><input type="radio" id="p2_q2_opt0" name="p2_q2" data-sqe-value="1"> <label for="p2_q2_opt0">Yes</label></div><div><input type="radio" id="p2_q2_opt1" name="p2_q2" data-sqe-value="0"> <label for="p2_q2_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p2_q3"><legend>Am I mostly silent when I am with people?</legend><div><input type="radio" id="p2_q3_opt0" name="p2_q3" data-sqe-value="1"> <label for="p2_q3_opt0">Yes</label></div><div><input type="radio" id="p2_q3_opt1" name="p2_q3" data-sqe-value="0"> <label for="p2_q3_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p2_q4"><legend>Do I often feel alone?</legend><div><input type="radio" id="p2_q4_opt0" name="p2_q4" data-sqe-value="1"> <label for="p2_q4_opt0">Yes</label></div><div><input type="radio" id="p2_q4_opt1" name="p2_q4" data-sqe-value="0"> <label for="p2_q4_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p2_q5"><legend>Is it better to follow the rules of society than to go it alone? ..........</legend><div><input type="radio" id="p2_q5_opt0" name="p2_q5" data-sqe-value="1"> <label for="p2_q5_opt0">Yes</label></div><div><input type="radio" id="p2_q5_opt1" name="p2_q5" data-sqe-value="0"> <label for="p2_q5_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p2_q6"><legend>Do people consider me full of vitality?</legend><div><input type="radio" id="p2_q6_opt0" name="p2_q6" data-sqe-value="1"> <label for="p2_q6_opt0">Yes</label></div><div><input type="radio" id="p2_q6_opt1" name="p2_q6" data-sqe-value="0"> <label for="p2_q6_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p2_q7"><legend>Do I always practice what I say?</legend><div><input type="radio" id="p2_q7_opt0" name="p2_q7" data-sqe-value="1"> <label for="p2_q7_opt0">Yes</label></div><div><input type="radio" id="p2_q7_opt1" name="p2_q7" data-sqe-value="0"> <label for="p2_q7_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p2_q8"><legend>Do I often feel guilty?</legend><div><input type="radio" id="p2_q8_opt0" name="p2_q8" data-sqe-value="1"> <label for="p2_q8_opt0">Yes</label></div><div><input type="radio" id="p2_q8_opt1" name="p2_q8" data-sqe-value="0"> <label for="p2_q8_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p2_q9"><legend>Do I have to put off what I should do today until tomorrow?</legend><div><input type="radio" id="p2_q9_opt0" name="p2_q9" data-sqe-value="1"> <label for="p2_q9_opt0">Yes</label></div><div><input type="radio" id="p2_q9_opt1" name="p2_q9" data-sqe-value="0"> <label for="p2_q9_opt1">No</label></div></fieldset>
<fieldset class="question" data-q="p2_q10"><legend>Am I capable of animating a party?</legend><div><input type="radio" id="p2_q10_opt0" name="p2_q10" data-sqe-value="1"> <label for="p2_q10_opt0">Yes</label></div><div><input type="radio" id="p2_q10_opt1" name="p2_q10" data-sqe-value="0"> <label for="p2_q10_opt1">No</label></div></fieldset>
</section>
<section class="page" data-index="3">
<h2>Results</h2>
</section>
</div>
<div class="controls">
<div><button id="prevBtn">Previous</button></div>
<div><button id="nextBtn">Next</button></div>
</div>
<div id="saveBtnContainer" style="text-align:center; margin-top:20px; display:none;">
<button id="saveBtn">Save Answers</button>
</div>
<div class="page-indicator" id="pageIndicator"></div>
<script>
const PAGE_COUNT = 4;
const PAGE_SCRIPTS = ["(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q0']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q1\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q1\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q1']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q2\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q2\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q2']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q3\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q3\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q3']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q4\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q4\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q4']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q5\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q5\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q5']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q6\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q6\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q6']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q7\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q7\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q7']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q8\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q8\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q8']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q9\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q9\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q9']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q10\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q10\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q10']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q11\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q11\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q11']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q12\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q12\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q12']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q13\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q13\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q13']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q14\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q14\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q14']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q15\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q15\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p0_q15']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q16\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q16\", value: val } }));\n    });\n  });\n}());","(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q0']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q17\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q17\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q1']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q18\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q18\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q2']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q19\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q19\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q3']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q20\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q20\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q4']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q21\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q21\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q5']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q22\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q22\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q6']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q23\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q23\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q7']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q24\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q24\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q8']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q25\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q25\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q9']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q26\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q26\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q10']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q27\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q27\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q11']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q28\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q28\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q12']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q29\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q29\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q13']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q30\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q30\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q14']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q31\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q31\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q15']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q32\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q32\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q16']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q33\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q33\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q17']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q34\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q34\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q18']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q35\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q35\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q19']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q36\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q36\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p1_q20']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q37\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q37\", value: val } }));\n    });\n  });\n}());","(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p2_q0']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q38\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q38\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p2_q1']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q39\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q39\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p2_q2']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q40\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q40\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p2_q3']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q41\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q41\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p2_q4']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q42\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q42\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p2_q5']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q43\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q43\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p2_q6']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q44\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q44\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p2_q7']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q45\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q45\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p2_q8']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q46\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q46\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p2_q9']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q47\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q47\", value: val } }));\n    });\n  });\n}());\n(function() {\n  if (!window.SQE_ANSWERS) window.SQE_ANSWERS = {};\n  const inputs = document.querySelectorAll(\"input[name='p2_q10']\");\n  inputs.forEach(i => {\n    i.addEventListener('change', function(e) {\n      const raw = this.dataset.sqeValue;\n      const num = Number(raw);\n      const val = (Number.isFinite(num) && raw !== '') ? num : raw;\n      window.SQE_ANSWERS[\"q48\"] = val;\n      document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: \"q48\", value: val } }));\n    });\n  });\n}());","// Define the scoring function\n    window.customCalculateResults = function(resultsDiv) {\n        if (!window.SQE_ANSWERS) {\n            resultsDiv.innerHTML = \"<p>Please answer all questions first.</p>\";\n            return;\n        }\n\n        const a = window.SQE_ANSWERS;\n        let P = 0, E = 0, N = 0, L = 0;\n\n        // Psychoticism\n        [10,14,22,31,39].forEach(q => { if (parseInt(a[\"q\"+q]||0) === 1) P++; });\n        [2,6,18,26,28,35,43].forEach(q => { if (parseInt(a[\"q\"+q]||0) === 0) P++; });\n\n        // Extroversion\n        [3,7,11,15,19,23,32,36,44,48].forEach(q => { if (parseInt(a[\"q\"+q]||0) === 1) E++; });\n        [27,41].forEach(q => { if (parseInt(a[\"q\"+q]||0) === 0) E++; });\n\n        // Neuroticism\n        [1,5,9,13,17,21,25,30,34,38,42,46].forEach(q => { if (parseInt(a[\"q\"+q]||0) === 1) N++; });\n\n        // Lie Scale\n        [4,16,45].forEach(q => { if (parseInt(a[\"q\"+q]||0) === 1) L++; });\n        [8,12,20,24,29,33,37,40,47].forEach(q => { if (parseInt(a[\"q\"+q]||0) === 0) L++; });\n\n        // Display results\n        resultsDiv.innerHTML = `\n            <h3>Your Personality Scores</h3>\n            <ul>\n                <li><strong>Psychoticism (P):</strong> ${P}/12</li>\n                <li><strong>Extroversion (E):</strong> ${E}/12</li>\n                <li><strong>Neuroticism (N):</strong> ${N}/12</li>\n                <li><strong>Lie (L):</strong> ${L}/12</li>\n            </ul>\n        `;\n    };\n\n    // Create a div to hold results\n    const resultsDiv = document.createElement(\"div\");\n    resultsDiv.id = \"results\";\n    document.body.appendChild(resultsDiv);\n\n    // Call the function immediately to calculate and display results\n    window.customCalculateResults(resultsDiv);"];
document.addEventListener("DOMContentLoaded", () => {
    // tiny runtime API for f { ... } scripts
    window.SQE = window.SQE || {};
    const SQE = window.SQE;

    // insert plain text as a .text-block (escaped by using textContent)
    SQE.insert = SQE.insert || function(text) {
        const page = document.querySelector(".page.active");
        if (!page) return null;
        const div = document.createElement("div");
        div.className = "text-block";
        div.textContent = String(text);
        page.appendChild(div);
        return div;
    };

    // insert raw HTML (use with care)
    SQE.insertHTML = SQE.insertHTML || function(html) {
        const page = document.querySelector(".page.active");
        if (!page) return null;
        const div = document.createElement("div");
        div.className = "text-block";
        div.innerHTML = String(html);
        page.appendChild(div);
        return div;
    };

    SQE.getAnswer = SQE.getAnswer || function(key) {
        return (window.SQE_ANSWERS || {})[key];
    };

    SQE.setAnswer = SQE.setAnswer || function(key, val) {
        window.SQE_ANSWERS = window.SQE_ANSWERS || {};
        window.SQE_ANSWERS[key] = val;
        // dispatch the same event that choice-rendered inputs use
        document.dispatchEvent(new CustomEvent('sqe:answer', { detail: { id: key, value: val } }));
    };

    const pages = Array.from(document.querySelectorAll(".page"));
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const pageIndicator = document.getElementById("pageIndicator");

    let currentIndex = 0;
    const ran = new Array(PAGE_COUNT).fill(false);

    function runScriptForPage(idx, scriptText) {
        if (!scriptText || !scriptText.trim()) return;
        try {
            // Wrap the user's script inside an async IIFE so `await` is supported.
            // The wrapped function may return a value (string or DOM Node) or a Promise resolving to one.
            const execPromise = new Function('return (async function(){\n' + scriptText + '\n})()')();

            const handleResult = (res) => {
                try {
                    if (typeof res === 'string') {
                        SQE.insert(res);
                    } else if (res instanceof Node) {
                        const page = pages[idx];
                        if (page) page.appendChild(res);
                    } else if (res && Array.isArray(res)) {
                        // array of strings or nodes
                        res.forEach(item => {
                            if (typeof item === 'string') SQE.insert(item);
                            else if (item instanceof Node) {
                                const page = pages[idx];
                                if (page) page.appendChild(item);
                            }
                        });
                    }
                    // otherwise ignore undefined/null/other results
                } catch (e) {
                    console.error("Error handling script result for page", idx + 1, e);
                }
            };

            if (execPromise && typeof execPromise.then === 'function') {
                execPromise.then(handleResult).catch(e => {
                    console.error("Error running page script (async) for page", idx + 1, e);
                });
            } else {
                handleResult(execPromise);
            }
        } catch (e) {
            console.error("Error running page script for page", idx + 1, e);
        }
    }

    function showPage(idx) {
        if (idx < 0) idx = 0;
        if (idx >= PAGE_COUNT) idx = PAGE_COUNT - 1;
        currentIndex = idx;

        pages.forEach((p, i) => {
            if (i === idx) {
                p.classList.add("active");
                p.style.display = "";
            } else {
                p.classList.remove("active");
                p.style.display = "none";
            }
        });

        if (prevBtn) prevBtn.disabled = (idx === 0);
        if (nextBtn) nextBtn.disabled = (idx === PAGE_COUNT - 1);
        if (pageIndicator) pageIndicator.textContent = "Page " + (idx + 1) + " of " + PAGE_COUNT;
        const saveContainer = document.getElementById("saveBtnContainer");
        if (saveContainer) {
            if (idx === PAGE_COUNT - 1) {
                saveContainer.style.display = "block";
            } else {
                saveContainer.style.display = "none";
            }
        }

        try {
            const scriptText = PAGE_SCRIPTS[idx];
            if (!ran[idx] && scriptText && scriptText.trim().length > 0) {
                runScriptForPage(idx, scriptText);
                ran[idx] = true;
            }
        } catch (e) {
            console.error("Error running page script for page", idx + 1, e);
        }
    }

    if (prevBtn) {
        prevBtn.addEventListener("click", () => { showPage(currentIndex - 1); });
    }
    if (nextBtn) {
        nextBtn.addEventListener("click", () => { showPage(currentIndex + 1); });
    }

    showPage(0);
});

document.addEventListener("DOMContentLoaded", () => {
    const saveBtn = document.getElementById("saveBtn");
    if (saveBtn) {
        saveBtn.addEventListener("click", () => {
            const data = JSON.stringify(window.SQE_ANSWERS || {}, null, 2);
            const blob = new Blob([data], { type: "application/json" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = "answers.json";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });
    }
});

</script>
</body></html>
